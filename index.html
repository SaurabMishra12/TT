<!DOCTYPE html>
<html lang="en" class=""> <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>my Grand Plan for Academic Survival</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* I've heroically fixed the CSS. Please, hold your applause. */
        :root {
            --bg-light: #f8f9fa; --bg-dark: #202124;
            --text-light: #202124; --text-dark: #e8eaed;
            --card-light: #ffffff; --card-dark: #303134;
            --border-light: #dadce0; --border-dark: #3c4043;
            --primary-light: #1a73e8; --primary-dark: #8ab4f8;
            --sidebar-bg-light: #e9eef6; --sidebar-bg-dark: #282a2d;
        }
        html.dark { color-scheme: dark; }
        body { font-family: 'Roboto', sans-serif; background-color: var(--bg-light); color: var(--text-light); transition: background-color 0.3s ease, color 0.3s ease; }
        html.dark body { background-color: var(--bg-dark); color: var(--text-dark); }
        .google-sans { font-family: 'Google Sans', sans-serif; }
        .sidebar { background-color: var(--sidebar-bg-light); }
        html.dark .sidebar { background-color: var(--sidebar-bg-dark); }
        .nav-link { transition: background-color 0.2s ease, color 0.2s ease; color: #3c4043; }
        html.dark .nav-link { color: var(--text-dark); }
        .nav-link:hover { background-color: rgba(0,0,0,0.05); }
        html.dark .nav-link:hover { background-color: rgba(255,255,255,0.05); }
        .nav-link.active { background-color: var(--primary-light); color: white !important; font-weight: 700; }
        html.dark .nav-link.active { background-color: var(--primary-dark); color: var(--bg-dark) !important;}
        .timeline-card { background-color: var(--card-light); border: 1px solid var(--border-light); transition: transform 0.2s ease, box-shadow 0.2s ease; }
        html.dark .timeline-card { background-color: var(--card-dark); border-color: var(--border-dark); }
        .timeline-card:hover { transform: translateY(-4px); box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.1); }
        html.dark .timeline-card:hover { box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.2); }
        .timeline-line { background-color: var(--border-light); }
        html.dark .timeline-line { background-color: var(--border-dark); }
        .timeline-dot { background-color: var(--bg-light); border: 3px solid var(--primary-light); }
        html.dark .timeline-dot { background-color: var(--bg-dark); border-color: var(--primary-dark); }
        .modal-content { background-color: var(--card-light); transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        html.dark .modal-content { background-color: var(--card-dark); }
        .modal-header { background-color: var(--primary-light); }
        html.dark .modal-header { background-color: var(--primary-dark); color: var(--bg-dark); }

        /* FIXED DARK MODE TOGGLE - A monumental feat of engineering. */
        .toggle-bg { transition: background-color 0.2s ease; }
        .toggle-circle { transition: transform 0.2s ease; }
        input:checked ~ .toggle-bg { background-color: var(--primary-light); }
        html.dark input:checked ~ .toggle-bg { background-color: var(--primary-dark); }
        input:checked ~ .toggle-bg .toggle-circle { transform: translateX(20px); }
    </style>
</head>
<body class="antialiased">

<div class="flex flex-col md:flex-row min-h-screen">
    <aside class="sidebar w-full md:w-64 flex-shrink-0 p-4 border-b md:border-r md:border-b-0 border-gray-200 dark:border-gray-700 flex flex-col">
        <div class="flex items-center mb-8">
            <svg class="h-8 w-8 text-blue-600 dark:text-blue-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
            </svg>
            <h1 class="google-sans text-xl font-bold ml-2 text-gray-800 dark:text-gray-100">-=-</h1>
        </div>
        <nav id="day-navigation" class="flex flex-col gap-2">
            <a href="#" data-day="monday" class="nav-link text-lg font-medium p-3 rounded-lg flex items-center gap-3"><span class="w-2 h-2 bg-red-400 rounded-full"></span>Mon</a>
            <a href="#" data-day="tuesday" class="nav-link text-lg font-medium p-3 rounded-lg flex items-center gap-3"><span class="w-2 h-2 bg-orange-400 rounded-full"></span>Tue</a>
            <a href="#" data-day="wednesday" class="nav-link text-lg font-medium p-3 rounded-lg flex items-center gap-3"><span class="w-2 h-2 bg-yellow-400 rounded-full"></span>Wed</a>
            <a href="#" data-day="thursday" class="nav-link text-lg font-medium p-3 rounded-lg flex items-center gap-3"><span class="w-2 h-2 bg-green-400 rounded-full"></span>Thu</a>
            <a href="#" data-day="friday" class="nav-link text-lg font-medium p-3 rounded-lg flex items-center gap-3"><span class="w-2 h-2 bg-blue-400 rounded-full"></span>Fri</a>
        </nav>
        <div class="mt-auto p-2">
             <label for="dark-mode-toggle" class="flex items-center cursor-pointer">
                 <div class="relative">
                     <input type="checkbox" id="dark-mode-toggle" class="sr-only">
                     <div class="toggle-bg block bg-gray-300 dark:bg-gray-600 w-11 h-6 rounded-full"></div>
                     <div class="toggle-circle absolute left-1 top-1 bg-white w-4 h-4 rounded-full"></div>
                 </div>
                 <div class="ml-3 text-gray-700 dark:text-gray-300 font-medium">Useless Mode</div>
             </label>
        </div>
    </aside>

    <div class="flex-1 flex flex-col overflow-hidden">
        <header class="p-4 md:p-6 border-b border-gray-200 dark:border-gray-700">
            <h1 class="google-sans text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100">Survival Schedule</h1>
            <p class="mt-1 text-gray-600 dark:text-gray-400"> yup , I built a class timetable. üíÄ
For what?? Vibes?? Anyway, slay I guess.
But, I built this for some reason... probably so I actually go to class. ü§∑‚Äç‚ôÇÔ∏è</p>
        </header>
        <main id="schedule-container" class="flex-1 overflow-y-auto p-4 md:p-6">
            <div class="text-center text-gray-500">
                <p>Loading...</p>
                <p class="text-sm">(Probably pointless‚Äîsomething's broken, as usual. Just pretend something brilliant is happening... that's the magic.)</p>
            </div>
        </main>
    </div>
</div>

<div id="courseModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="modal-content w-full max-w-2xl max-h-[90vh] rounded-xl shadow-2xl overflow-hidden flex flex-col transform scale-95">
        <div class="modal-header flex justify-between items-center p-4 text-white">
            <h2 id="modalTitle" class="google-sans text-2xl font-bold">Course Details</h2>
            <button id="closeModal" class="text-3xl font-light leading-none hover:opacity-75 transition-opacity">&times;</button>
        </div>
        <div class="p-6 overflow-y-auto space-y-6">
            <div>
                <h3 class="font-bold text-lg text-blue-600 dark:text-blue-400">Venue</h3>
                <p id="modalVenue" class="mt-1 text-gray-700 dark:text-gray-300"></p>
            </div>
            <div class="w-full h-px bg-gray-200 dark:bg-gray-700"></div>
            <div>
                <h3 class="font-bold text-lg text-blue-600 dark:text-blue-400">Learning Outcomes</h3>
                <p id="modalOutcomes" class="mt-1 text-gray-700 dark:text-gray-300 whitespace-pre-wrap"></p>
            </div>
             <div class="w-full h-px bg-gray-200 dark:bg-gray-700"></div>
            <div>
                <h3 class="font-bold text-lg text-blue-600 dark:text-blue-400">Syllabus</h3>
                <div id="modalSyllabus" class="mt-1 text-gray-700 dark:text-gray-300 whitespace-pre-wrap prose prose-sm dark:prose-invert"></div>
            </div>
        </div>
    </div>
</div>


<script>
// The important data. Still untouched. I'm not a monster.
const courseDetails = { "DSC 322":{title:"Applied Regression Analysis",outcomes:"Understand the theoretical foundations of various statistical models. Perform fitting of linear and nonlinear regression.",syllabus:"‚Ä¢ Linear regression with one and multiple regressors, including estimation, tests, confidence regions, and simultaneous testing methods.\n‚Ä¢ Model adequacy checking through analysis of residuals, lack of fit tests, and graphical checks for model assumptions.\n‚Ä¢ Addressing issues like multicollinearity, outliers, leverage, and measures of influence.\n‚Ä¢ Techniques for model selection (stepwise, forward, backward, best subset) and model validation.\n‚Ä¢ Regression models with indicator variables, Polynomial regression models, and models with interaction terms.\n‚Ä¢ Transformation of variables (Box-Cox method), Ridge's regression, and Weighted Regression.\n‚Ä¢ Regression analysis for binary dependent variables and panel data.\n‚Ä¢ An introduction to Generalized Linear Models."}, "MAT 314":{title:"Numerical Analysis",outcomes:"This introductory numerics course aims to make the students aware of various classical approximation schemes in order to solve algebraic equations and differential equations.",syllabus:"‚Ä¢ Round off Errors and Computer Arithmetic.\n‚Ä¢ Numerical solutions of nonlinear algebraic equations: Bisection, Secant and Newton‚Äôs method, fixed-point iteration.\n‚Ä¢ Interpolation: Lagrange interpolation, divided differences, Hermite interpolation, splines.\n‚Ä¢ Numerical differentiation, Richardson extrapolation.\n‚Ä¢ Numerical integration: Trapezoidal, Simpson, Newton-Cotes, Gauss quadrature.\n‚Ä¢ Solutions of linear algebraic equations: Direct methods (Gauss elimination), Iterative methods (Jacobi and Gauss-Siedel).\n‚Ä¢ Computation of eigenvalues and eigenvectors: Power method, QR algorithm.\n‚Ä¢ Initial Value Problems: Euler method, Higher order methods of Runge-Kutta type.\n‚Ä¢ Boundary Value Problems: Finite differences."}, "MAT 313":{title:"Linear Algebra",outcomes:"This course provides an abstract treatment of linear algebra, focusing on decomposition and spectral theorems, along with topics relevant for applied and numerical methods.",syllabus:"‚Ä¢ Invariant subspaces, direct sum decomposition, and invariant direct sums.\n‚Ä¢ The primary decomposition theorem.\n‚Ä¢ Nilpotent Operators and the Jordan Canonical form.\n‚Ä¢ Inner product spaces, orthonormal basis, and the Gram-Schmidt process; adjoint operators.\n‚Ä¢ The least squares problem, normal, unitary, and self-adjoint operators, and the spectral theorem for these operators.\n‚Ä¢ Bilinear forms, including symmetric and skew-symmetric forms, and QR factorization."}, "MAT 322":{title:"Mathematical Modelling",outcomes:"This course introduces mathematical models of real-world problems, with examples from biology, chemistry, physics, and other fields.",syllabus:"‚Ä¢ Introduction: Philosophy of modeling, model validation, and example problems.\n‚Ä¢ Differential Equation Models: Population growth, drug dosage, predator-prey models, competing species, phase plane analysis, fixed points, and stability.\n‚Ä¢ Modeling Process: Proportionality, geometric similarity, model fitting, and experimental, simulation, and discrete modeling.\n‚Ä¢ Probabilistic Models: Monte Carlo methods, Markov Chain applications for problems in inventory, genetics, and Google's Page Rank algorithm."}, "MAT 303":{title:"Metric Spaces",outcomes:"To provide a thorough understanding of metric spaces and their topology, including advanced concepts like continuity, convergence, compactness, and the Riemann-Stieltjes integral.",syllabus:"‚Ä¢ Properties and examples of Metric spaces and Normed vector spaces, including open, closed, and bounded subsets, Cauchy sequences, and completeness.\n‚Ä¢ Compact and connected sets, continuous functions, uniform continuity, and equivalence of metrics.\n‚Ä¢ The contraction principle, Baire category theorem, and the convergence of sequences and series of functions (pointwise and uniform).\n‚Ä¢ Arzela-Ascoli theorem, functions of bounded variation, and the Riemann-Stieltjes' integral.\n‚Ä¢ Approximation theorems by Weierstrass and Stone-Weierstrass."}, "MAT 308":{title:"Mathematics Lab",outcomes:"To familiarize students with the implementation of various numerical analysis techniques, especially numerical integration and solving linear systems.",syllabus:"The lab consists of weekly assignments covering:\n‚Ä¢ Introduction to Python/MATLAB and computer arithmetic.\n‚Ä¢ Root finding using Newton's method and fixed-point iteration.\n‚Ä¢ Lagrange interpolation.\n‚Ä¢ Numerical integration using Simpson's and Trapezoidal rules.\n‚Ä¢ Solving linear systems using LU decomposition, Gauss-Seidel, and Jacobi methods.\n‚Ä¢ Solving Initial Value Problems (IVPs) and Boundary Value Problems (BVPs).\n‚Ä¢ Approximating eigenvalues and eigenvectors using the Power method."}, "DSC 324":{title:"Machine Learning II",outcomes:"Understanding Neural Network structures and learning. Understanding the deep learning algorithms for domains. Implementing deep learning algorithms to solve real-world problems.",syllabus:"‚Ä¢ Introduction: Biological Neuron, Perceptron Learning Algorithm.\n‚Ä¢ Feedforward Networks: Multilayer Perceptron, Gradient Descent, Backpropagation.\n‚Ä¢ Deep Neural Networks: Optimization methods (Adagrad, Adam), regularization (dropout, batch normalization).\n‚Ä¢ CNNs: Architectures, convolution/pooling layers, LeNet, AlexNet.\n‚Ä¢ RNNs: Backpropagation through time, LSTM, GRU, Bidirectional models.\n‚Ä¢ Generative Models: RBMs, Gibbs Sampling, Deep Boltzmann Machines.\n‚Ä¢ Deep Unsupervised Learning: Autoencoders, VAEs, GANs.\n‚Ä¢ Applications: Computer Vision (segmentation, object detection) and NLP (Word Vector Representations)."}, "MAT 321":{title:"Complex Analysis",outcomes:"This advanced course covers Cauchy-Riemann equations, complex integration, singularities, and residue calculus, along with other major theorems in the field.",syllabus:"‚Ä¢ Cauchy-Riemann equations, harmonic functions, and complex integration.\n‚Ä¢ Homotopy version of Cauchy‚Äôs theorem, Cauchy‚Äôs integral formula, and Taylor series.\n‚Ä¢ Zeros of analytic functions and the Open Mapping theorem.\n‚Ä¢ Classification of singularities, Laurent‚Äôs series, the Residue Theorem, and Residue Calculus.\n‚Ä¢ Maximum modulus principle, Schwarz lemma, and Weierstrass‚Äô theorem.\n‚Ä¢ Topology of uniform convergence, Montel‚Äôs theorem, and the Riemann Mapping theorem."}, "MAT 4101":{title:"Discrete Mathematics",outcomes:"To study discrete structures, develop logical thinking and mathematical proofs. Learn combinatorics, graph theory algorithms, and their practical applications.",syllabus:"‚Ä¢ Set Theory and Boolean Algebras: Posets, Zorn's Lemma, inclusion-exclusion, Lattices.\n‚Ä¢ Introduction to Logic: Predicate Logic, logical operators, proofs.\n‚Ä¢ Combinatorics: Counting, Recurrence relations, Catalan numbers, Bell numbers, Stirling numbers.\n‚Ä¢ Graph Theory: Paths, Cycles, Euler's solution, graph representations, Bipartite graphs, Trees, Spanning Subgraphs, Kruskal's Algorithm.\n‚Ä¢ Advanced Topics: Mobius Inversion, Graph Colouring, Chromatic Number, Burnside's Lemma, Polya Theory, Matching Theory.\n‚Ä¢ Geometric/Structural Graph Theory: Euler's polyhedron formula, Ramsey Theory, Regular graphs."}, "MAT 304":{title:"Abstract Algebra",outcomes:"The main focus is on abstract group theory and rings, with some basic knowledge of modules.",syllabus:"‚Ä¢ Group actions, Orbit-Stabilizer theorem, Class Equation, Burnside's Counting lemma.\n‚Ä¢ Sylow's theorems, solvable groups, and nilpotent groups.\n‚Ä¢ Semi-direct products.\n‚Ä¢ Euclidean domains, PIDs, UFDs, Gauss's theorem, Eisenstein Criterion.\n‚Ä¢ Modules, fundamental theorem of finitely generated modules over a PID, Noetherian rings, Hilbert Basis Theorem."}, "HUM 312":{title:"Humanities Course",outcomes:"Details to be confirmed. This is a placeholder for your humanities elective.",syllabus:"The syllabus for this course is not available in the provided documents. Please refer to your department's official course information for details."}};
const scheduleData = { monday: [{ time: "8:00 AM - 9:00 AM", code: "DSC 322", venue: "Jupyter LHC", type: "lecture" }, { time: "9:00 AM - 10:00 AM", code: "MAT 314", venue: "Madhava", type: "lecture" }, { time: "10:00 AM - 11:00 AM", code: "MAT 313", venue: "LHC Venus", type: "lecture" }, { time: "11:00 AM - 12:00 PM", code: "MAT 322", venue: "LHC Venus", type: "lecture" }, { time: "12:00 PM - 1:00 PM", code: "MAT 303", venue: "LHC Venus", type: "lecture" }, { time: "1:00 PM - 2:00 PM", title: "Break", type: "break" }, { time: "2:00 PM - 4:00 PM", code: "MAT 308", venue: "SoM Lab", type: "lab" }], tuesday: [{ time: "8:00 AM - 9:00 AM", code: "DSC 322", venue: "LHC Jupyter", type: "lecture" }, { time: "9:00 AM - 10:00 AM", title: "Break", type: "break" }, { time: "10:00 AM - 11:00 AM", code: "DSC 324", venue: "Madhava MSB", type: "lecture" }, { time: "11:00 AM - 12:00 PM", code: "MAT 321", venue: "PSB Seminar Hall", type: "lecture" }, { time: "12:00 PM - 1:00 PM", code: "MAT 4101", venue: "MSB Classroom", type: "lecture" }, { time: "1:00 PM - 2:00 PM", title: "Break", type: "break" }, { time: "2:00 PM - 3:00 PM", code: "MAT 304", venue: "LHC Venus", type: "lecture" }, { time: "3:00 PM - 4:00 PM", code: "MAT 308", venue: "SoM Lab", type: "lab" }, { time: "4:00 PM - 5:00 PM", title: "Departmental Activity", type: "seminar" }, { time: "5:00 PM - 6:00 PM", title: "Break", type: "break" }, { time: "6:00 PM - 7:00 PM", code: "HUM 312", venue: "N/A", type: "lecture" }], wednesday: [{ time: "8:00 AM - 9:00 AM", code: "DSC 324", venue: "Jupyter", type: "lecture" }, { time: "9:00 AM - 10:00 AM", code: "MAT 314", venue: "Madhava", type: "lecture" }, { time: "10:00 AM - 11:00 AM", code: "MAT 313", venue: "Venus", type: "lecture" }, { time: "11:00 AM - 12:00 PM", code: "MAT 322", venue: "Venus", type: "lecture" }, { time: "12:00 PM - 1:00 PM", code: "MAT 303", venue: "Venus", type: "lecture" }, { time: "1:00 PM - 2:00 PM", title: "Break", type: "break" }, { time: "2:00 PM - 4:00 PM", code: "MAT 308", venue: "SoM Lab", type: "lab" }, { time: "4:00 PM - 5:00 PM", title: "Break", type: "break" }, { time: "5:00 PM - 6:00 PM", code: "MAT 4101", venue: "MSB Classroom", type: "lecture" }, { time: "6:00 PM - 7:00 PM", code: "HUM 312", venue: "N/A", title: "Humanities Course", type: "lecture" }], thursday: [{ time: "8:00 AM - 9:00 AM", code: "DSC 322", venue: "Jupyter LHC", type: "lecture" }, { time: "9:00 AM - 10:00 AM", code: "MAT 314", venue: "Madhava", "type": "lecture" }, { time: "10:00 AM - 11:00 AM", code: "MAT 313", venue: "LHC Venus", type: "lecture" }, { time: "11:00 AM - 12:00 PM", code: "MAT 322", venue: "LHC Venus", type: "lecture" }, { time: "12:00 PM - 1:00 PM", code: "MAT 303", venue: "LHC Venus", type: "lecture" }, { time: "1:00 PM - 2:00 PM", title: "Break", type: "break" }, { time: "2:00 PM - 3:00 PM", code: "MAT 304", venue: "LHC Venus", type: "lecture" }, { time: "3:00 PM - 4:00 PM", code: "MAT 308", venue: "SoM Lab", type: "lab" }, { time: "4:00 PM - 5:00 PM", code: "MAT 321", venue: "PSB Seminar Hall", type: "lecture" }], friday: [{ time: "8:00 AM - 9:00 AM", code: "DSC 324", venue: "Madhava", type: "lecture" }, { time: "9:00 AM - 10:00 AM", code: "MAT 304", venue: "Venus LHC", type: "lecture" }, { time: "10:00 AM - 11:00 AM", code: "MAT 308", venue: "SoM Lab", type: "lab" }, { time: "11:00 AM - 12:00 PM", code: "MAT 321", venue: "PSB Seminar Hall", type: "lecture" }, { time: "12:00 PM - 1:00 PM", code: "MAT 4101", venue: "MSB Classroom", type: "lecture" }, { time: "1:00 PM - 2:00 PM", title: "Break", type: "break" }, { time: "2:00 PM - 4:00 PM", code: "MAT 308", venue: "SoM Lab", type: "lab" }, { time: "4:00 PM - 5:00 PM", title: "Break", type: "break" }, { time: "5:00 PM - 6:00 PM", title: "Colloquium", type: "seminar" }] };
const icons = { lecture: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v11.494m-9-5.494h18" /></svg>`, lab: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" /></svg>`, break: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 3v2c0 .6-.4 1-1 1H4a1 1 0 01-1-1V3M4 11h16M4 19h16" /></svg>`, seminar: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-pink-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg>` };

document.addEventListener('DOMContentLoaded', () => {
    const dayNavigation = document.getElementById('day-navigation');
    const scheduleContainer = document.getElementById('schedule-container');
    const modal = document.getElementById('courseModal');
    const modalContent = modal.querySelector('.modal-content');
    const closeModalBtn = document.getElementById('closeModal');
    const darkModeToggle = document.getElementById('dark-mode-toggle');

    // Here are your useless widgets. You're welcome.
    function generateWelcomeScreenHTML() {
        return `
            <div class="text-center p-8">
                <h2 class="google-sans text-2xl font-bold mb-2">It's a free day. Miracles do happen.</h2>
                <p class="text-gray-600 dark:text-gray-400 mb-8">Here are some completely arbitrary metrics to make you feel productive.</p>
                <div class="grid md:grid-cols-2 gap-6 text-left">
                    <div class="p-4 bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700">
                        <h3 class="font-bold text-lg text-purple-600 dark:text-purple-400">Useless Fun Fact</h3>
                        <p class="mt-2">A day on Venus is longer than a year on Venus. Think about that next time you feel your day is dragging.</p>
                    </div>
                    <div class="p-4 bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700">
                        <h3 class="font-bold text-lg text-green-600 dark:text-green-400">Productivity Score‚Ñ¢</h3>
                        <p class="mt-2 text-sm">Your current productivity is... <span class="font-bold">42%</span>. Why? Because the number looked nice.</p>
                        <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mt-2">
                            <div class="bg-green-500 h-2.5 rounded-full" style="width: 42%"></div>
                        </div>
                    </div>
                </div>
            </div>
        `;
    }

    function generateScheduleHTML(day) {
        const events = scheduleData[day];
        if (!events || events.length === 0) return generateWelcomeScreenHTML();
        
        // [MODIFIED] Adjusted timeline padding and dot positioning for mobile.
        let timelineHTML = `<div class="relative pl-6 sm:pl-8"><div class="timeline-line absolute left-4 top-4 bottom-4 w-0.5"></div>`;
        events.forEach((event, index) => {
            const details = event.code ? courseDetails[event.code] : { title: event.title };
            const title = details.title || event.title;
            const isClickable = !!event.code;
            const cursorClass = isClickable ? 'cursor-pointer' : 'cursor-default';
            const cardColorClasses = { lecture: "border-l-4 border-blue-500", lab: "border-l-4 border-purple-500", break: "border-l-4 border-yellow-500", seminar: "border-l-4 border-pink-500" };
            timelineHTML += `
                <div data-day="${day}" data-index="${index}" class="timeline-item relative mb-6">
                    <div class="timeline-dot absolute -left-[21px] sm:-left-[29px] top-3 h-5 w-5 rounded-full"></div>
                    <div class="timeline-card p-4 rounded-lg shadow-md ${cursorClass} ${cardColorClasses[event.type] || ''}">
                        <div class="flex items-start gap-4">
                            <div class="hidden sm:block mt-1">${icons[event.type] || icons.lecture}</div>
                            <div class="flex-grow">
                                <p class="font-bold text-gray-500 dark:text-gray-400">${event.time}</p>
                                <h3 class="google-sans text-xl font-bold text-gray-900 dark:text-gray-100">${title}</h3>
                                ${event.code ? `<p class="text-sm text-gray-600 dark:text-gray-400">${event.code} &bull; ${event.venue}</p>` : `<p class="text-sm text-gray-600 dark:text-gray-400">Eat. Sleep. Or just stare at a wall.</p>`}
                            </div>
                        </div>
                    </div>
                </div>`;
        });
        timelineHTML += `</div>`;
        return timelineHTML;
    }

    function switchDay(day) {
        document.querySelectorAll('#day-navigation .nav-link').forEach(link => link.classList.toggle('active', link.dataset.day === day));
        scheduleContainer.innerHTML = generateScheduleHTML(day);
        addCardEventListeners();
    }

    function showModal(day, index) {
        const event = scheduleData[day][index];
        if (!event.code) return;
        const details = courseDetails[event.code];
        document.getElementById('modalTitle').textContent = details.title;
        document.getElementById('modalVenue').textContent = event.venue || 'The ether';
        document.getElementById('modalOutcomes').textContent = details.outcomes;
        document.getElementById('modalSyllabus').textContent = details.syllabus;
        modal.classList.remove('opacity-0', 'pointer-events-none');
        modalContent.classList.remove('scale-95');
    }

    function hideModal() {
        modal.classList.add('opacity-0', 'pointer-events-none');
        modalContent.classList.add('scale-95');
    }

    function addCardEventListeners() {
        document.querySelectorAll('.timeline-item').forEach(card => {
            card.addEventListener('click', () => showModal(card.dataset.day, parseInt(card.dataset.index, 10)));
        });
    }
    
    // The now-functional dark mode logic. A true triumph.
    function setDarkMode(isDark) {
        localStorage.setItem('darkMode', isDark);
        document.documentElement.classList.toggle('dark', isDark);
        darkModeToggle.checked = isDark;
    }

    darkModeToggle.addEventListener('change', () => setDarkMode(darkModeToggle.checked));

    dayNavigation.addEventListener('click', (e) => {
        e.preventDefault();
        const link = e.target.closest('.nav-link');
        if (link) switchDay(link.dataset.day);
    });

    closeModalBtn.addEventListener('click', hideModal);
    modal.addEventListener('click', (e) => { if (e.target === modal) hideModal(); });

    // Initial setup.
    const savedDarkMode = localStorage.getItem('darkMode') === 'true';
    setDarkMode(savedDarkMode);
    const todayIndex = new Date().getDay();
    const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
    const currentDay = (todayIndex > 0 && todayIndex < 6) ? days[todayIndex] : 'monday';
    switchDay(currentDay);
});
</script>
</body>
</html>
